<!DOCTYPE html>
<html lang="en" xmlns:ng="http://angularjs.org" id="ng-app" ng-app="laAir">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache, must-revalidate">
    <meta http-equiv="Cache" content="no-cache">
    <script src="/Library/others/tingyun-rum.js"></script>

    <title></title>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="format-detection" content="telephone=yes"/>
    <meta name="msapplication-tap-highlight" content="no"/>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <link rel="canonical" href="http://www.loongair.cn/"/>

    <link rel='stylesheet' href='/Resource/style/style.css' type='text/css' media='all'>
    <link href="/Resource/images/cl.ico" rel="icon" type="image/x-icon"/>

    <![if !IE]>
    <script src="/Library/angular/angular1.4.8.min.js"></script>
    <script src="/Library/angular/angular-cookies1.4.8.min.js"></script>
    <![endif]>

    <!--[if gte IE 9]>
    <script src="/Library/angular/angular1.4.8.min.js"></script>
    <script src="/Library/angular/angular-cookies1.4.8.min.js"></script>
    <![endif]-->

    <!--[if lte IE 8]>
    <script src="/Library/angular/angular1.2.28.min.js"></script>
    <script src="/Library/angular/angular-cookies1.2.28.js"></script>
    <![endif]-->

    <!--[if lte IE 9]>
    <script src="/Library/others/Placeholders.js"></script>
    <![endif]-->

    <!--[if lt IE 9]>
    <script src="/Library/others/json2.js"></script>
    <![endif]-->

    <script src="/Service/entityClass/laEntityClass.js"></script>
    <script src="/Service/serviceImpl/laGlobalServiceImpl.js"></script>
    <script src="/Service/serviceImpl/laOrderServiceImpl.js"></script>
    <script src="/Service/serviceImpl/laUserServiceImpl.js"></script>
    <script src="/Service/serviceImpl/laAir.js"></script>

    <script type="text/javascript" src="/Library/others/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="/Library/others/jquery.slide.js"></script>
    <script type="text/javascript" src="/Library/others/hDate.js"></script>
    <script type="text/javascript" src="/Library/others/bootbox.min.js"></script>
    <script type="text/javascript" src="/B2C/js/application.js"></script>
    <script type="text/javascript" src="/Library/others/Base64.js"></script>
    <script type="text/javascript" src="/Library/others/popup_layer.js"></script>

    <script src="controller/MyMessageCtl.js"></script>
</head>
<body ng-controller="laAir_MemberMyMessagePageCtl">

<div ng-include="'/Resource/commonHtml/header.html'"></div>

<div class="wrapper">
    <div class="container personal-wrapper">

        <div ng-include="'LeftMenu.html'"></div>

        <div class="content">
            <div class="panel-sm">
                <div class="tab-pane active">
                    <style>
                        .odd {
                            background-color: #FFEADC
                        }

                        .even {
                            background-color: #FFF2E9
                        }
                    </style>
                    <table width="100%" cellspacing="0" cellpadding="0" border="0" align="center" class="table-message">
                        <thead>
                        <tr>
                            <th style="background-color: #FFDCC0;" width="30"><input type="checkbox" id="SelectAll" onclick="javascript:checkallmsg();"></th>
                            <th style="background-color: #FFDCC0;">发件人</th>
                            <th style="background-color: #FFDCC0;">标题</th>
                            <th style="background-color: #FFDCC0;">发送时间</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-class="{true:'odd',false:'even'}[$index % 2 !=0]" id="tr{{msg.Tid}}" ng-repeat="msg in MessageList track by $index">
                            <td><input type="checkbox" name="messageCheck" value="{{msg.Tid}}" onclick="javascript:setcheckedall();"></td>
                            <td>{{msg.From}}</td>
                            <td>
                                <div class="t_message"><a href="javascript:;" ng-click="showMsgContent(msg);">{{msg.Title}}</a></div>
                            </td>
                            <td>{{msg.SendDate | date:'yyyy-MM-dd'}}</td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="article">
                        <a class="btn btn-gray" href="javascript:;" ng-if="MessageList.length>0" ng-click="btnDelMessage();">删除</a><br><br>

                        <div class="submit-pay" style="text-align:right;">
                            <a ng-class="{true:'btn',false:'btn btn-gray'}[pageIndex>1]" href="javascript:;" ng-disabled="pageIndex>1" ng-click="btnPrePageClick();" style="padding: 5px 10px 5px 10px;">上一页</a>&nbsp;&nbsp;
                            <a href="javascript:;" ng-if="pageIndexList[0].p >pageIndexCnt" ng-click="btnPageClick(pageIndexList[0].p -1)">...</a>&nbsp;&nbsp;
                            <span ng-repeat="p in pageIndexList"><a ng-class="{true:'btn', false:'btn btn-gray'}[p.s]" href="javascript:;" ng-click="btnPageClick(p.p);" style="padding: 5px 10px 5px 10px;">{{p.t}}</a>&nbsp;&nbsp;</span>
                            <a href="javascript:;" ng-if="pageIndexList[pageIndexList.length-1].p <totalPage" ng-click="btnPageClick(pageIndexList[pageIndexList.length-1].p +1)">...</a>&nbsp;&nbsp;
                            <a ng-class="{true:'btn',false:'btn btn-gray'}[pageIndex<totalPage]" href="javascript:;" ng-disabled="pageIndex<totalPage" ng-click="btnNextPageClick();" style="padding: 5px 10px 5px 10px;">下一页</a>&nbsp;&nbsp;
                            <span>
                                共{{totalPage}}页&nbsp;&nbsp;到第&nbsp;<input type="text" ng-model="inputPageSize" style="width:20px;">&nbsp;页&nbsp;&nbsp;
                                <a class="btn" href="javascript:;" ng-click="btnGoPage();" style="padding: 5px 10px 5px 10px;">确定</a>
                            </span>
                        </div>
                        <!--
                        <div class="pagination pull-right" style="margin:0;">
                            <ul>
                                <li class="disabled"><a href="#">«</a></li>
                                <li class="active"><a href="#">1</a></li>
                                <li><a href="#">2</a></li>
                                <li class="disabled"><a href="#">»</a></li>
                            </ul>
                        </div>
                        -->
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="divide"></div>
    </div>
</div>

<div class="modal" style="border-radius: 5px; top:35%; left:52%;" id="divmsgcontent">
    <div class="modal-body">
        <div class="tabs">
            <span>发件人:{{curMsg.From}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;时间:{{curMsg.SendDate | date:'yyyy-MM-dd HH:mm:ss'}}</span>
            <span style="float:right;"><a id="divclosemsgcontent" href="javascript:;">关闭</a></span><br><br>
            <span>标题:{{curMsg.Title}}</span>
            <div class="vp-submit text_center" style="border-top:1px dashed #FFDCC0;">
            </div>
        </div>
        <div class="tab-content">
            <div class="tab-pane active">
                <div style=" overflow-y:scroll;">
                    <span style="margin: 10px 20px;line-height: 2;">&nbsp;&nbsp;{{curMsg.WM_Content}}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script language="JavaScript">

    function checkallmsg() {
        var chklist = document.getElementsByName('messageCheck');
        var chk = document.getElementById('SelectAll').checked;

        for (var i = 0; i < chklist.length; i++) {
            chklist[i].checked = chk;
        }
    }

    function setcheckedall() {
        var chklist = document.getElementsByName('messageCheck');

        for (var i = 0; i < chklist.length; i++) {
            if (!chklist[i].checked) {
                document.getElementById('SelectAll').checked = false;
                return;
            }
        }
        document.getElementById('SelectAll').checked = true;
    }
</script>

<div ng-include="'/Resource/commonHtml/footer.html'"></div>

</body>
</html>