<!DOCTYPE html>
<html lang="en" xmlns:ng="http://angularjs.org" id="ng-app" ng-app="laAir">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache, must-revalidate">
    <meta http-equiv="Cache" content="no-cache">
    <script src="/Library/others/tingyun-rum.js"></script>

    <title></title>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="format-detection" content="telephone=yes"/>
    <meta name="msapplication-tap-highlight" content="no"/>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <link rel="canonical" href="http://www.loongair.cn/"/>

    <link rel='stylesheet' href='/Resource/style/style.css' type='text/css' media='all'>
    <link href="/Resource/images/cl.ico" rel="icon" type="image/x-icon"/>

    <![if !IE]>
    <script src="/Library/angular/angular1.4.8.min.js"></script>
    <script src="/Library/angular/angular-cookies1.4.8.min.js"></script>
    <![endif]>

    <!--[if gte IE 9]>
    <script src="/Library/angular/angular1.4.8.min.js"></script>
    <script src="/Library/angular/angular-cookies1.4.8.min.js"></script>
    <![endif]-->

    <!--[if lte IE 8]>
    <script src="/Library/angular/angular1.2.28.min.js"></script>
    <script src="/Library/angular/angular-cookies1.2.28.js"></script>
    <![endif]-->

    <!--[if lte IE 9]>
    <script src="/Library/others/Placeholders.js"></script>
    <![endif]-->

    <!--[if lt IE 9]>
    <script src="/Library/others/json2.js"></script>
    <![endif]-->

    <script src="/Service/entityClass/laEntityClass.js"></script>
    <script src="/Service/serviceImpl/laGlobalServiceImpl.js"></script>
    <script src="/Service/serviceImpl/laOrderServiceImpl.js"></script>
    <script src="/Service/serviceImpl/laUserServiceImpl.js"></script>
    <script src="/Service/serviceImpl/laAir.js"></script>

    <script type="text/javascript" src="/Library/others/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="/Library/others/jquery.slide.js"></script>
    <script type="text/javascript" src="/Library/others/hDate.js"></script>
    <script type="text/javascript" src="/Library/others/bootbox.min.js"></script>
    <script type="text/javascript" src="/B2C/js/application.js"></script>
    <script type="text/javascript" src="/Library/others/Base64.js"></script>

    <script src="controller/MemberCardCtl.js"></script>
</head>
<body ng-controller="laAir_MemberMemberCardPageCtl">

<div ng-include="'/Resource/commonHtml/header.html'"></div>

<div class="wrapper">
    <div class="container personal-wrapper">

        <div ng-include="'LeftMenu.html'"></div>

        <div class="content">
            <div class="panel-sm">
                <br>
                <div class="vipmessage">
                    <h2>会员卡打印</h2>
                    <div class="text-info">
                        <p>温馨提示：</p>
                        <p>您乘坐两次航班或累积积分达到5000公里后，我们将给您寄发实体卡和会员手册。在收到实体卡前，请使用您的会员卡卡号或打印的会员卡累积积分。</p>
                        <p>积分累积方法：请在预订/购买机票和办理乘机手续以及在合作伙伴处消费时出示会员卡或提供会员卡卡号</p>
                    </div>
                </div>

                <div>
                    <div class="vipprint">
                        <img src="/Resource/images/vipcard.png">
                        <div class="vipinfo" style="width:160px;">
                            <p>{{cardInfo.CardNo}}</p>
                            <p>{{cardInfo.Name}}</p>
                        </div>
                    </div>
                </div>

                <div class="text_center">
                    <p>请沿边缘剪下此卡，在预订/购买机票和办理乘机手续 以及在合作伙伴处消费时提供此会员卡。</p>
                    <br />
                    <a class="btn" href="javascript:;" onclick="printCard()">打印会员卡</a>&nbsp;&nbsp;
                    <a class="btn" href="javascript:;" ng-click="btnSendCardNoToMobile();">发送会员卡号至手机</a>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="divide"></div>
    </div>
</div>

<!--startprint0-->
<div id="printcard" style="display: none;" align="center">
    <div class="vipprint">
        <img src="/Resource/images/vipcard.png" style="width:291px;height:183px;">
        <div style="width:291px;height:183px;margin-left: 96px;margin-top: -66px;text-align: center;">
            <p>{{cardInfo.CardNo}}</p>
            <p>{{cardInfo.Name}}</p>
        </div>
    </div>
</div>
<!--endprint0-->

<div ng-include="'/Resource/commonHtml/footer.html'"></div>

<script language="javascript" type="text/javascript">
    function printCard() {
        bdhtml = window.document.body.innerHTML;//获取当前页的html代码
        //document.getElementById('printcard').style.display = 'block';
        sprnstr = "<!--startprint0-->";//设置打印开始区域
        eprnstr = "<!--endprint0-->";//设置打印结束区域
        prnhtml = bdhtml.substring(bdhtml.indexOf(sprnstr) + 18); //从开始代码向后取html
        prnhtml = prnhtml.substring(0, prnhtml.indexOf(eprnstr));//从结束代码向前取html
        window.document.body.innerHTML = prnhtml.replace("style=\"display: none;\"", "style=\"display: block;\"");
        window.print();
        //document.getElementById('printcard').style.display = 'none';
        window.document.body.innerHTML = bdhtml;
    }
</script>

</body>
</html>